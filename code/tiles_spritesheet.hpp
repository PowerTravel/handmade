enum tileSpriteSheet {
  sprite_type_box,
  sprite_type_boxAlt,
  sprite_type_boxCoin,
  sprite_type_boxCoinAlt,
  sprite_type_boxCoinAlt_disabled,
  sprite_type_boxCoin_disabled,
  sprite_type_boxEmpty,
  sprite_type_boxExplosive,
  sprite_type_boxExplosiveAlt,
  sprite_type_boxExplosive_disabled,
  sprite_type_boxItem,
  sprite_type_boxItemAlt,
  sprite_type_boxItemAlt_disabled,
  sprite_type_boxItem_disabled,
  sprite_type_boxWarning,
  sprite_type_brickWall,
  sprite_type_bridge,
  sprite_type_bridgeLogs,
  sprite_type_castle,
  sprite_type_castleCenter,
  sprite_type_castleCenter_rounded,
  sprite_type_castleCliffLeft,
  sprite_type_castleCliffLeftAlt,
  sprite_type_castleCliffRight,
  sprite_type_castleCliffRightAlt,
  sprite_type_castleHalf,
  sprite_type_castleHalfLeft,
  sprite_type_castleHalfMid,
  sprite_type_castleHalfRight,
  sprite_type_castleHillLeft,
  sprite_type_castleHillLeft2,
  sprite_type_castleHillRight,
  sprite_type_castleHillRight2,
  sprite_type_castleLedgeLeft,
  sprite_type_castleLedgeRight,
  sprite_type_castleLeft,
  sprite_type_castleMid,
  sprite_type_castleRight,
  sprite_type_dirt,
  sprite_type_dirtCenter,
  sprite_type_dirtCenter_rounded,
  sprite_type_dirtCliffLeft,
  sprite_type_dirtCliffLeftAlt,
  sprite_type_dirtCliffRight,
  sprite_type_dirtCliffRightAlt,
  sprite_type_dirtHalf,
  sprite_type_dirtHalfLeft,
  sprite_type_dirtHalfMid,
  sprite_type_dirtHalfRight,
  sprite_type_dirtHillLeft,
  sprite_type_dirtHillLeft2,
  sprite_type_dirtHillRight,
  sprite_type_dirtHillRight2,
  sprite_type_dirtLedgeLeft,
  sprite_type_dirtLedgeRight,
  sprite_type_dirtLeft,
  sprite_type_dirtMid,
  sprite_type_dirtRight,
  sprite_type_door_closedMid,
  sprite_type_door_closedTop,
  sprite_type_door_openMid,
  sprite_type_door_openTop,
  sprite_type_fence,
  sprite_type_fenceBroken,
  sprite_type_grass,
  sprite_type_grassCenter,
  sprite_type_grassCenter_rounded,
  sprite_type_grassCliffLeft,
  sprite_type_grassCliffLeftAlt,
  sprite_type_grassCliffRight,
  sprite_type_grassCliffRightAlt,
  sprite_type_grassHalf,
  sprite_type_grassHalfLeft,
  sprite_type_grassHalfMid,
  sprite_type_grassHalfRight,
  sprite_type_grassHillLeft,
  sprite_type_grassHillLeft2,
  sprite_type_grassHillRight,
  sprite_type_grassHillRight2,
  sprite_type_grassLedgeLeft,
  sprite_type_grassLedgeRight,
  sprite_type_grassLeft,
  sprite_type_grassMid,
  sprite_type_grassRight,
  sprite_type_hill_large,
  sprite_type_hill_largeAlt,
  sprite_type_hill_small,
  sprite_type_hill_smallAlt,
  sprite_type_ladder_mid,
  sprite_type_ladder_top,
  sprite_type_liquidLava,
  sprite_type_liquidLavaTop,
  sprite_type_liquidLavaTop_mid,
  sprite_type_liquidWater,
  sprite_type_liquidWaterTop,
  sprite_type_liquidWaterTop_mid,
  sprite_type_lock_blue,
  sprite_type_lock_green,
  sprite_type_lock_red,
  sprite_type_lock_yellow,
  sprite_type_rockHillLeft,
  sprite_type_rockHillRight,
  sprite_type_ropeAttached,
  sprite_type_ropeHorizontal,
  sprite_type_ropeVertical,
  sprite_type_sand,
  sprite_type_sandCenter,
  sprite_type_sandCenter_rounded,
  sprite_type_sandCliffLeft,
  sprite_type_sandCliffLeftAlt,
  sprite_type_sandCliffRight,
  sprite_type_sandCliffRightAlt,
  sprite_type_sandHalf,
  sprite_type_sandHalfLeft,
  sprite_type_sandHalfMid,
  sprite_type_sandHalfRight,
  sprite_type_sandHillLeft,
  sprite_type_sandHillLeft2,
  sprite_type_sandHillRight,
  sprite_type_sandHillRight2,
  sprite_type_sandLedgeLeft,
  sprite_type_sandLedgeRight,
  sprite_type_sandLeft,
  sprite_type_sandMid,
  sprite_type_sandRight,
  sprite_type_sign,
  sprite_type_signExit,
  sprite_type_signLeft,
  sprite_type_signRight,
  sprite_type_snow,
  sprite_type_snowCenter,
  sprite_type_snowCenter_rounded,
  sprite_type_snowCliffLeft,
  sprite_type_snowCliffLeftAlt,
  sprite_type_snowCliffRight,
  sprite_type_snowCliffRightAlt,
  sprite_type_snowHalf,
  sprite_type_snowHalfLeft,
  sprite_type_snowHalfMid,
  sprite_type_snowHalfRight,
  sprite_type_snowHillLeft,
  sprite_type_snowHillLeft2,
  sprite_type_snowHillRight,
  sprite_type_snowHillRight2,
  sprite_type_snowLedgeLeft,
  sprite_type_snowLedgeRight,
  sprite_type_snowLeft,
  sprite_type_snowMid,
  sprite_type_snowRight,
  sprite_type_stone,
  sprite_type_stoneCenter,
  sprite_type_stoneCenter_rounded,
  sprite_type_stoneCliffLeft,
  sprite_type_stoneCliffLeftAlt,
  sprite_type_stoneCliffRight,
  sprite_type_stoneCliffRightAlt,
  sprite_type_stoneHalf,
  sprite_type_stoneHalfLeft,
  sprite_type_stoneHalfMid,
  sprite_type_stoneHalfRight,
  sprite_type_stoneHillLeft2,
  sprite_type_stoneHillRight2,
  sprite_type_stoneLedgeLeft,
  sprite_type_stoneLedgeRight,
  sprite_type_stoneLeft,
  sprite_type_stoneMid,
  sprite_type_stoneRight,
  sprite_type_stoneWall,
  sprite_type_tochLit,
  sprite_type_tochLit2,
  sprite_type_torch,
  sprite_type_window
};

static const bitmap_coordinate* LoadImageCoordinates(u32* entries)
{
  static const bitmap_coordinate map[] = {
  { 0, 864, 70, 70 },
  { 0, 792, 70, 70 },
  { 0, 720, 70, 70 },
  { 0, 576, 70, 70 },
  { 0, 504, 70, 70 },
  { 0, 648, 70, 70 },
  { 0, 432, 70, 70 },
  { 0, 360, 70, 70 },
  { 0, 216, 70, 70 },
  { 0, 288, 70, 70 },
  { 0, 144, 70, 70 },
  { 0, 0, 70, 70 },
  { 432, 432, 70, 70 },
  { 0, 72, 70, 70 },
  { 72, 648, 70, 70 },
  { 216, 0, 70, 70 },
  { 216, 72, 70, 70 },
  { 288, 720, 70, 70 },
  { 288, 792, 70, 70 },
  { 504, 288, 70, 70 },
  { 504, 720, 70, 70 },
  { 504, 792, 70, 70 },
  { 648, 720, 70, 70 },
  { 648, 792, 70, 70 },
  { 792, 288, 70, 70 },
  { 792, 360, 70, 70 },
  { 432, 720, 70, 70 },
  { 648, 648, 70, 70 },
  { 792, 648, 70, 70 },
  { 648, 576, 70, 70 },
  { 792, 576, 70, 70 },
  { 792, 504, 70, 70 },
  { 792, 432, 70, 70 },
  { 856, 868, 5, 22 },
  { 842, 868, 5, 22 },
  { 792, 216, 70, 70 },
  { 792, 144, 70, 70 },
  { 792, 72, 70, 70 },
  { 792, 0, 70, 70 },
  { 720, 864, 70, 70 },
  { 720, 792, 70, 70 },
  { 720, 720, 70, 70 },
  { 720, 648, 70, 70 },
  { 720, 576, 70, 70 },
  { 720, 504, 70, 70 },
  { 720, 432, 70, 70 },
  { 720, 360, 70, 70 },
  { 720, 288, 70, 70 },
  { 720, 216, 70, 70 },
  { 720, 144, 70, 70 },
  { 720, 72, 70, 70 },
  { 720, 0, 70, 70 },
  { 648, 864, 70, 70 },
  { 842, 892, 5, 18 },
  { 842, 912, 5, 18 },
  { 504, 432, 70, 70 },
  { 504, 360, 70, 70 },
  { 648, 504, 70, 70 },
  { 648, 432, 70, 70 },
  { 648, 360, 70, 70 },
  { 648, 288, 70, 70 },
  { 648, 216, 70, 70 },
  { 648, 144, 70, 70 },
  { 648, 72, 70, 70 },
  { 648, 0, 70, 70 },
  { 576, 864, 70, 70 },
  { 576, 792, 70, 70 },
  { 576, 720, 70, 70 },
  { 576, 648, 70, 70 },
  { 576, 576, 70, 70 },
  { 576, 504, 70, 70 },
  { 576, 432, 70, 70 },
  { 576, 360, 70, 70 },
  { 576, 288, 70, 70 },
  { 576, 216, 70, 70 },
  { 576, 144, 70, 70 },
  { 576, 72, 70, 70 },
  { 576, 0, 70, 70 },
  { 504, 864, 70, 70 },
  { 849, 868, 5, 24 },
  { 849, 894, 5, 24 },
  { 504, 648, 70, 70 },
  { 504, 576, 70, 70 },
  { 504, 504, 70, 70 },
  { 842, 720, 48, 146 },
  { 864, 0, 48, 146 },
  { 792, 828, 48, 106 },
  { 792, 720, 48, 106 },
  { 504, 144, 70, 70 },
  { 504, 72, 70, 70 },
  { 504, 0, 70, 70 },
  { 432, 864, 70, 70 },
  { 432, 792, 70, 70 },
  { 504, 216, 70, 70 },
  { 432, 648, 70, 70 },
  { 432, 576, 70, 70 },
  { 432, 504, 70, 70 },
  { 72, 576, 70, 70 },
  { 432, 360, 70, 70 },
  { 432, 288, 70, 70 },
  { 432, 216, 70, 70 },
  { 432, 144, 70, 70 },
  { 432, 72, 70, 70 },
  { 432, 0, 70, 70 },
  { 360, 864, 70, 70 },
  { 360, 792, 70, 70 },
  { 576, 864, 70, 70 },
  { 576, 792, 70, 70 },
  { 360, 720, 70, 70 },
  { 360, 648, 70, 70 },
  { 360, 576, 70, 70 },
  { 360, 504, 70, 70 },
  { 360, 432, 70, 70 },
  { 360, 360, 70, 70 },
  { 360, 288, 70, 70 },
  { 360, 216, 70, 70 },
  { 360, 144, 70, 70 },
  { 360, 72, 70, 70 },
  { 360, 0, 70, 70 },
  { 288, 864, 70, 70 },
  { 856, 892, 5, 18 },
  { 856, 912, 5, 18 },
  { 288, 648, 70, 70 },
  { 288, 576, 70, 70 },
  { 288, 504, 70, 70 },
  { 288, 432, 70, 70 },
  { 288, 360, 70, 70 },
  { 288, 288, 70, 70 },
  { 288, 216, 70, 70 },
  { 288, 144, 70, 70 },
  { 720, 864, 70, 70 },
  { 288, 72, 70, 70 },
  { 288, 0, 70, 70 },
  { 216, 864, 70, 70 },
  { 216, 792, 70, 70 },
  { 216, 720, 70, 70 },
  { 216, 648, 70, 70 },
  { 216, 576, 70, 70 },
  { 216, 504, 70, 70 },
  { 216, 432, 70, 70 },
  { 216, 360, 70, 70 },
  { 216, 288, 70, 70 },
  { 216, 216, 70, 70 },
  { 216, 144, 70, 70 },
  { 863, 868, 5, 18 },
  { 863, 888, 5, 18 },
  { 144, 864, 70, 70 },
  { 144, 792, 70, 70 },
  { 144, 720, 70, 70 },
  { 144, 648, 70, 70 },
  { 144, 576, 70, 70 },
  { 144, 504, 70, 70 },
  { 144, 432, 70, 70 },
  { 144, 360, 70, 70 },
  { 144, 288, 70, 70 },
  { 144, 216, 70, 70 },
  { 144, 144, 70, 70 },
  { 144, 72, 70, 70 },
  { 144, 0, 70, 70 },
  { 72, 864, 70, 70 },
  { 72, 792, 70, 70 },
  { 72, 720, 70, 70 },
  { 863, 908, 5, 24 },
  { 864, 148, 5, 24 },
  { 72, 504, 70, 70 },
  { 72, 432, 70, 70 },
  { 72, 360, 70, 70 },
  { 72, 288, 70, 70 },
  { 72, 216, 70, 70 },
  { 72, 144, 70, 70 },
  { 72, 72, 70, 70 },
  { 72, 0, 70, 70 }
  };
  *entries = ArrayCount(map);
  return map;
}

m4 GetSpriteSheetTranslationMatrix(tileSpriteSheet Type, bitmap* SpriteSheet)
{
  local_persist u32 EntryCount = 0;
  local_persist const bitmap_coordinate* coordinates = LoadImageCoordinates(&EntryCount);

  bitmap_coordinate TileCoordinate = coordinates[Type];
  r32 XMin = (r32) TileCoordinate.x;
  // Note: Picture is stored and read from bottom left to up and right but
  //     The coordinates given were top left to bottom right so we need to
  //     Invert the Y-Axis;
  r32 YMin = (r32) SpriteSheet->Height - (TileCoordinate.y + TileCoordinate.h);

  r32 Xoffset = XMin / (r32) SpriteSheet->Width;
  r32 ScaleX  =  (r32) TileCoordinate.w / (r32) SpriteSheet->Width;

  r32 Yoffset = YMin / (r32) SpriteSheet->Height;
  r32 ScaleY  =  (r32) TileCoordinate.h / (r32) SpriteSheet->Width;

  return GetTranslationMatrix(V4(Xoffset,Yoffset,0,1)) * GetScaleMatrix(V4(ScaleX,ScaleY,0,1));
}